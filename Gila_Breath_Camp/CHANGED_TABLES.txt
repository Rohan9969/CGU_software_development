CREATE TABLE KARTHIK.KARTHIK_CHANNELS
( 
 CHANNEL_ID NUMBER NOT NULL
, CHANNEL_DESC VARCHAR2(20) NOT NULL
, CHANNEL_CLASS VARCHAR2(20)
, PRIMARY KEY(CHANNEL_ID)
, CHECK(CHANNEL_CLASS IN ('Direct','Indirect','Others'))
)
STORAGE
(  
  INITIAL 8K NEXT 8K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 5 PCTUSED 90 INITRANS 1;


KARTHIK_REGION
CREATE TABLE KARTHIK.KARTHIK_REGION
( 
  COUNTRY_REGION_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, COUNTRY_REGION VARCHAR2(20)
, PRIMARY KEY(COUNTRY_REGION_ID)
)
STORAGE
(  
  INITIAL 8K NEXT 8K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 5 PCTUSED 90 INITRANS 1;


KARTHIK_SUBREGION
CREATE TABLE KARTHIK.KARTHIK_SUBREGION
( 
  COUNTRY_SUBREGION_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, COUNTRY_REGION_ID NUMBER
, COUNTRY_SUBREGION VARCHAR2(20)
, PRIMARY KEY(COUNTRY_SUBREGION_ID)
, FOREIGN KEY(COUNTRY_REGION_ID) REFERENCES KARTHIK.KARTHIK_REGION(COUNTRY_REGION_ID)
)
STORAGE
(  
  INITIAL 8K NEXT 8K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 5 PCTUSED 90 INITRANS 1;

KARTHIK_COUNTRY
CREATE TABLE KARTHIK.KARTHIK_COUNTRY
( 
  COUNTRY_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, COUNTRY_SUBREGION_ID NUMBER
, COUNTRY_NAME VARCHAR2(50)
, PRIMARY KEY(COUNTRY_ID)
, FOREIGN KEY(COUNTRY_SUBREGION_ID) REFERENCES KARTHIK.KARTHIK_SUBREGION(COUNTRY_SUBREGION_ID)
)
STORAGE
(  
  INITIAL 8K NEXT 8K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 5 PCTUSED 90 INITRANS 1;



KARTHIK_STATE
CREATE TABLE KARTHIK.KARTHIK_STATE
( 
  STATE_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, COUNTRY_ID NUMBER
, CUST_STATE_PROVINCE VARCHAR2(40)
, PRIMARY KEY(STATE_ID)
, FOREIGN KEY(COUNTRY_ID) REFERENCES KARTHIK.KARTHIK_COUNTRY(COUNTRY_ID)
)
STORAGE
(  
  INITIAL 8K NEXT 8K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 5 PCTUSED 90 INITRANS 1;

KARTHIK_CITY
CREATE TABLE KARTHIK.KARTHIK_CITY
( 
  CITY_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, STATE_ID NUMBER
, CUST_CITY VARCHAR2(30) NOT NULL
, PRIMARY KEY(CITY_ID)
, FOREIGN KEY(STATE_ID) REFERENCES KARTHIK.KARTHIK_STATE(STATE_ID)
)
STORAGE
(  
  INITIAL 16K NEXT 16K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 5 PCTUSED 90 INITRANS 1;




KARTHIK_PROD_CATEGORY
CREATE TABLE KARTHIK.KARTHIK_PROD_CATEGORY
( 
  PROD_CATEGORY_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, PROD_CATEGORY VARCHAR2(50) NOT NULL
, PROD_CAT_DESC VARCHAR2(2000) NOT NULL
, PRIMARY KEY(PROD_CATEGORY_ID)
)
STORAGE
(  
  INITIAL 8K NEXT 8K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 5 PCTUSED 90 INITRANS 1;



KARTHIK_PROMO_SUBCATEGORY
CREATE TABLE KARTHIK.KARTHIK_PROMO_SUBCATEGORY
(  
  PROMO_SUBCATEGORY_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, PROMO_CATEGORY_ID NUMBER NOT NULL
, PROMO_SUBCATEGORY VARCHAR2(30) NOT NULL
, PRIMARY KEY(PROMO_SUBCATEGORY_ID)
, FOREIGN KEY(PROMO_CATEGORY_ID) REFERENCES KARTHIK.KARTHIK_PROMO_CATEGORY(PROMO_CATEGORY_ID)
)
STORAGE
(  
  INITIAL 8K NEXT 8K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 5 PCTUSED 90 INITRANS 1;



KARTHIK_CUSTOMERS
CREATE TABLE KARTHIK.KARTHIK_CUSTOMERS
( 
  CUST_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, CITY_ID NUMBER NOT NULL
, CUST_FIRST_NAME VARCHAR2(20) NOT NULL
, CUST_LAST_NAME VARCHAR2(40) NOT NULL
, CUST_GENDER CHAR(1)
, CUST_MAIN_PHONE_NUMBER VARCHAR2(25)
, CUST_EMAIL VARCHAR2(30)
, CUST_STREET_ADDRESS VARCHAR2(40) NOT NULL
, CUST_POSTAL_CODE  VARCHAR2(10) NOT NULL
, CUST_YEAR_OF_BIRTH NUMBER(4,0)
, CUST_MARITAL_STATUS VARCHAR2(20)
, CUST_INCOME_LEVEL VARCHAR2(30)
, CUST_CREDIT_LIMIT NUMBER
, PRIMARY KEY(CUST_ID)
, FOREIGN KEY(CITY_ID) REFERENCES KARTHIK.KARTHIK_CITY(CITY_ID)
, CHECK(CUST_GENDER IN ('M' , 'F' , 'O'))
, CHECK(CUST_MARITAL_STATUS IN ('Not sure', 'Divorced', 'Single', 'Widowed', 'Married'))
)
STORAGE
(  
  INITIAL 7792K NEXT 7792K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 10 PCTUSED 20 INITRANS 1;





KARTHIK_PROD_SUBCATEGORY
CREATE TABLE KARTHIK.KARTHIK_PROD_SUBCATEGORY
( 
  PROD_SUBCATEGORY_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, PROD_CATEGORY_ID NUMBER NOT NULL
, PROD_SUBCATEGORY VARCHAR2(50) NOT NULL
, PROD_SUBCAT_DESC VARCHAR2(2000) NOT NULL
, PRIMARY KEY(PROD_SUBCATEGORY_ID)
, FOREIGN KEY(PROD_CATEGORY_ID) REFERENCES KARTHIK.KARTHIK_PROD_CATEGORY(PROD_CATEGORY_ID)
)
STORAGE
(  
  INITIAL 8K NEXT 8K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 5 PCTUSED 90 INITRANS 1;

KARTHIK_PROMO_CATEGORY
CREATE TABLE KARTHIK.KARTHIK_PROMO_CATEGORY
( 
  PROMO_CATEGORY_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, PROMO_CATEGORY VARCHAR2(30) NOT NULL
, PRIMARY KEY(PROMO_CATEGORY_ID)
)
STORAGE
(  
  INITIAL 8K NEXT 8K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 5 PCTUSED 90 INITRANS 1;




KARTHIK_PRODUCTS
CREATE TABLE KARTHIK.KARTHIK_PRODUCTS
(  
  PROD_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, PROD_SUBCATEGORY_ID NUMBER NOT NULL
, PROD_NAME VARCHAR2(50) NOT NULL
, PROD_DESC VARCHAR2(400) NOT NULL
, PROD_WEIGHT_CLASS NUMBER(2,0)
, PROD_UNIT_OF_MEASURE VARCHAR2(20)
, PROD_PACK_SIZE VARCHAR2(30)
, SUPPLIER_ID NUMBER(6,0)
, PROD_LIST_PRICE NUMBER(8,2) NOT NULL
, PROD_MIN_PRICE NUMBER(8,2) NOT NULL
, PRIMARY KEY(PROD_ID)
, FOREIGN KEY(PROD_SUBCATEGORY_ID) REFERENCES KARTHIK.KARTHIK_PROD_SUBCATEGORY(PROD_SUBCATEGORY_ID)
, CHECK(PROD_LIST_PRICE >= PROD_MIN_PRICE)
)
STORAGE
(  
  INITIAL 8K NEXT 8K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 10 PCTUSED 20 INITRANS 1;









KARTHIK_PROMOTIONS
CREATE TABLE KARTHIK.KARTHIK_PROMOTIONS
( 
  PROMO_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, PROMO_SUBCATEGORY_ID NUMBER
, PROMO_NAME VARCHAR2(30) NOT NULL
, PROMO_COST NUMBER(10,2) NOT NULL
, PROMO_BEGIN_DATE DATE NOT NULL
, PROMO_END_DATE DATE NOT NULL
, PRIMARY KEY(PROMO_ID)
, FOREIGN KEY(PROMO_SUBCATEGORY_ID) REFERENCES KARTHIK.KARTHIK_PROMO_SUBCATEGORY(PROMO_SUBCATEGORY_ID)
, CHECK (PROMO_END_DATE >= PROMO_BEGIN_DATE)
)
STORAGE
(  
  INITIAL 32K NEXT 32K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 5 PCTUSED 90 INITRANS 1;










KARTHIK_SALES
CREATE TABLE KARTHIK.KARTHIK_SALES
( 
  SALESTRANS_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
, PROD_ID NUMBER
, CUST_ID NUMBER
, CHANNEL_ID NUMBER
, PROMO_ID NUMBER
, SALE_DATE DATE
, SHIPPING_DATE DATE
, PAYMENT_DATE DATE 
, QUANTITY_SOLD NUMBER
, AMOUNT_SOLD NUMBER
, UNIT_PRICE NUMBER
, PRIMARY KEY(SALESTRANS_ID)
, FOREIGN KEY(PROD_ID) REFERENCES KARTHIK.KARTHIK_PRODUCTS(PROD_ID)
, FOREIGN KEY(CUST_ID) REFERENCES KARTHIK.KARTHIK_CUSTOMERS(CUST_ID)
, FOREIGN KEY(CHANNEL_ID) REFERENCES KARTHIK.KARTHIK_CHANNELS(CHANNEL_ID)
, FOREIGN KEY(PROMO_ID) REFERENCES KARTHIK.KARTHIK_PROMOTIONS(PROMO_ID)
, CHECK(SHIPPING_DATE >= SALE_DATE)
, CHECK(PAYMENT_DATE >= SALE_DATE)
)
STORAGE
(  
  INITIAL 40048K NEXT 40048K 
  MINEXTENTS 1 PCTINCREASE 5
)
PCTFREE 20 PCTUSED 10 INITRANS 4;
